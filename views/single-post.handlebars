{{!-- Single Post Page --}}
{{#extend 'layouts/main'}}
  {{#content 'body'}}
    {{#if post}}
      <h1>{{post.title}}</h1>
      <p>Posted by: {{post.user.username}}</p>
      <p>Date: {{post.createdAt}}</p>
      <h2>Content:</h2>
      <p>{{post.content}}</p>
      {{#if post.comments.length}}
        <h3>Comments:</h3>
        <ul>
          {{#each post.comments}}
            <li>
              <p>{{this.content}}</p>
              <p>By: {{this.user.username}}</p>
              <p>Date: {{this.createdAt}}</p>
            </li>
          {{/each}}
        </ul>
      {{/if}}
      <form action="/posts/{{post.id}}/comments" method="POST">
        <textarea name="content" placeholder="Leave a comment" required></textarea>
        <button type="submit">Submit Comment</button>
      </form>
    {{else}}
      <p>Post not found.</p>
    {{/if}}
  {{/content}}
{{/extend}}
